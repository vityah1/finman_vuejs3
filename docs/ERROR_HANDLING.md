# –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫

## –û–≥–ª—è–¥

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫, —è–∫–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ API –Ω–∞ –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

## –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. –£—Ç–∏–ª—ñ—Ç–∞ errorHandler.ts

–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è: `src/utils/errorHandler.ts`

–û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
- `getErrorMessage(error, defaultMessage)` - –æ—Ç—Ä–∏–º—É—î –∑—Ä–æ–∑—É–º—ñ–ª–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
- `logError(error, context)` - –ª–æ–≥—É—î –ø–æ–º–∏–ª–∫—É –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏
- `isNetworkError(error)` - –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –ø–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂–µ–≤–æ—é
- `isAuthError(error)` - –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –ø–æ–º–∏–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- `isServerError(error)` - –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (5xx)

### 2. –¢–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

#### –ú–µ—Ä–µ–∂–µ–≤—ñ –ø–æ–º–∏–ª–∫–∏ (Network Error)
- **–¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞**: `AxiosError: Network Error`
- **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É**: "–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∞–±–æ —Å–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ."

#### –ü–æ–º–∏–ª–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (401/403)
- **401**: "–°–µ—Å—ñ—è –∑–∞–∫—ñ–Ω—á–∏–ª–∞—Å—è. –ë—É–¥—å –ª–∞—Å–∫–∞, —É–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –∑–Ω–æ–≤—É."
- **403**: "–£ –≤–∞—Å –Ω–µ–º–∞—î –ø—Ä–∞–≤ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ü—ñ—î—ó –¥—ñ—ó."

#### –ü–æ–º–∏–ª–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (5xx)
- **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: "–ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞."

#### Timeout –ø–æ–º–∏–ª–∫–∏
- **–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è**: "–ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –≤–∏—á–µ—Ä–ø–∞–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑."

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ

```typescript
import { getErrorMessage, logError } from '@/utils/errorHandler';

// –í –æ–±—Ä–æ–±–Ω–∏–∫—É –ø–æ–º–∏–ª–æ–∫
onError: (error: AxiosError) => {
  logError(error, "Component name - action description");
  const errorMessage = getErrorMessage(error, "–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º");
  if (this.$refs.myAlert) {
    this.$refs.myAlert.showAlert("danger", errorMessage);
  }
}
```

### –û–Ω–æ–≤–ª–µ–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

1. **BankForm.vue** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
2. **PmtYearMon.vue** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤
3. **Pmt.vue** - –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–æ–∫—ñ–≤ –ø–ª–∞—Ç–µ–∂—ñ–≤

## –ì–ª–æ–±–∞–ª—å–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏

### 1. Vue Error Handler (main.ts)
–ü–µ—Ä–µ—Ö–æ–ø–ª—é—î –≤—Å—ñ –Ω–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

### 2. Unhandled Promise Rejection Handler (main.ts)
–ü–µ—Ä–µ—Ö–æ–ø–ª—é—î –Ω–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –ø—Ä–æ–º—ñ—Å—ñ–≤.

### 3. Axios Interceptors (axios-config.ts)
–û–±—Ä–æ–±–ª—è—é—Ç—å –ø–æ–º–∏–ª–∫–∏ HTTP –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Ä—ñ–≤–Ω—ñ Axios.

### 4. TanStack Query Error Handlers (query-client.ts)
–û–±—Ä–æ–±–ª—è—é—Ç—å –ø–æ–º–∏–ª–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –º—É—Ç–∞—Ü—ñ–π TanStack Query.

## –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

–í—Å—ñ –ø–æ–º–∏–ª–∫–∏ –ª–æ–≥—É—é—Ç—å—Å—è –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:

```javascript
console.group(`üö® –ü–æ–º–∏–ª–∫–∞ –≤ ${context}`);
console.log("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:", userMessage);
console.log("–¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:", error);
if (error.response) {
  console.log("–°—Ç–∞—Ç—É—Å:", error.response.status);
  console.log("–î–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:", error.response.data);
}
console.groupEnd();
```

## Retry –ª–æ–≥—ñ–∫–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä—é—î:
- –ú–µ—Ä–µ–∂–µ–≤—ñ –ø–æ–º–∏–ª–∫–∏ (Network Error)
- –ü–æ–º–∏–ª–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (401/403)
- –ü–æ–º–∏–ª–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (5xx)

–Ü–Ω—à—ñ –ø–æ–º–∏–ª–∫–∏ –ø–æ–≤—Ç–æ—Ä—é—é—Ç—å—Å—è –º–∞–∫—Å–∏–º—É–º 1 —Ä–∞–∑.

## –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏

1. **–ó—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Ç—Ä–µ–π—Å—ñ–≤
2. **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞** - –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤–æ
3. **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** - —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –≤—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. **–¢–∏–ø—ñ–∑–∞—Ü—ñ—è** - TypeScript –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ–∫—É —Ç–∏–ø—ñ–≤
5. **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

## –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫

–î–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø—É –ø–æ–º–∏–ª–∫–∏:

1. –û–Ω–æ–≤—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `getErrorMessage` –≤ `errorHandler.ts`
2. –î–æ–¥–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `isCustomError`)
3. –û–Ω–æ–≤—ñ—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫:

1. –í—ñ–¥–∫–ª—é—á—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä API
2. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª –≤ BankForm
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –∑—Ä–æ–∑—É–º—ñ–ª–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ —Ç—Ä–µ–π—Å—É
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
